<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Loading...</title> 
    
    <!-- Tailwind CSS CDN 로드 -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- 
    ================================================================================
    * 디자인 스타일 영역: Nanum Square Round (네오 둥근모 폰트) 적용
    ================================================================================
    -->
    <style>
        /* Nanum Square Round 폰트 임포트 (네오 둥근모 폰트 적용) */
        @import url('https://fonts.googleapis.com/css2?family=Nanum+Square+Round:wght@400;700;800&display=swap');

        /* 폰트 및 기본 스타일: 배경색을 밝은 톤으로 유지 */
        body { 
            font-family: 'Nanum Square Round', 'Inter', sans-serif; /* 네오 둥근모 폰트 적용 */
            background-color: #f0f3f8; 
            margin: 0; /* body 기본 마진 제거 */
            padding: 0;
        }
        
        /* 메인 컨테이너: 최대 너비 없이 화면 꽉 채움 */
        #app {
            background-color: #ffffff; /* 흰색 배경 */
            min-height: 100vh;
        } 
        
        /* 햄버거 메뉴 버튼 고정 */
        #menu-btn {
            position: fixed;
            left: 1rem;
            top: 1rem; 
            z-index: 70; 
        }

        /* 커뮤니티 버튼 스타일링 */
        .community-btn {
            @apply flex items-center justify-center p-2 text-sm font-medium transition duration-150 ease-in-out border border-gray-300 rounded-lg hover:bg-gray-100;
        }

        /* 필터 버튼 기본 스타일 */
        .filter-btn-base {
            @apply px-3 py-1 text-xs font-medium transition duration-150 whitespace-nowrap border rounded-lg;
        }

        /* 슬라이드 배너 트랙을 위한 CSS 설정 */
        .slider-track {
            transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            display: flex;
            height: 100%;
        }

        /* 필터 드로어(사이드바) 스타일 */
        #filter-drawer {
            width: 85%; 
            max-width: 320px; 
            transform: translateX(-100%);
            transition: transform 0.3s ease-in-out;
            z-index: 60; 
        }
        #filter-drawer.open { transform: translateX(0); }
        #drawer-overlay {
            transition: opacity 0.3s ease-in-out;
            z-index: 59;
            background-color: rgba(0, 0, 0, 0.4);
        }
        
        /* 서버 카드 스타일: 여백 최소화 */
        .server-card {
            /* 모바일에서만 카드별 여백을 줘서 구분 */
            @apply mb-4 sm:mb-0; 
        }
    </style>
    
    <!-- Tailwind Custom Configuration (부드러운 블루 톤 유지) -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#5F82FF',       
                        'primary-light': '#E8F0FF', 
                        'primary-dark': '#3D5ECF',  
                        'secondary': '#F59E0B',     
                        'reddit-vote': '#FF4500',   
                    },
                    borderRadius: {
                        'lg': '0.5rem', 
                        'xl': '0.75rem' /* 기존 1rem -> 0.75rem으로 살짝 축소 */
                    }
                }
            }
        }
    </script>
</head>
<body class="min-h-screen">

    <!-- 메인 컨테이너 (화면 꽉 채움) -->
    <div id="app" class="min-h-screen bg-white">

        <!-- 헤더 및 제목 (내부에만 패딩 적용) -->
        <header class="text-center pb-4 relative pt-12 sm:pt-16 px-4"> 
            
            <!-- 왼쪽 상단 햄버거 메뉴 버튼 (고정/Fixed) -->
            <button onclick="toggleDrawer()" id="menu-btn" 
                class="p-3 bg-white text-primary hover:text-primary-dark transition shadow-lg border border-gray-200 rounded-lg">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
            </button>
            
            <h1 id="site-title-h1" class="text-3xl font-extrabold text-gray-900 tracking-tight sm:text-4xl">Loading...</h1>
            <p id="site-description-p" class="mt-1 text-md text-gray-500">Loading...</p>
        </header>

        <!-- 서버 검색 입력 필드 (내부에만 패딩 적용) -->
        <div class="mb-4 px-4">
            <input type="text" id="server-search-input" onkeyup="handleSearch(event)"
                   placeholder="서버 이름, 내용, 카테고리, 태그 등으로 검색..."
                   class="w-full p-4 border-2 border-gray-200 focus:border-primary focus:ring-primary transition rounded-xl text-gray-800 shadow-md">
        </div>

        <!-- 1. 최고의 서버 배너 영역 (Top Banner - SLIDER): 꽉 채움 -->
        <!-- 배경색 및 그림자로 구분을 명확히 함 -->
        <div class="mb-4 shadow-inner overflow-hidden bg-primary-light border-y border-gray-200">
            <div class="px-4 py-2 bg-primary text-white flex justify-between items-center">
                <h2 id="top-banner-title-h2" class="text-md font-bold"></h2>
                <span class="text-xs font-light opacity-90">광고</span>
            </div>
            <div id="top-banner-content" class="w-full h-24 sm:h-32 relative overflow-hidden flex items-center justify-center text-center">
                <div class="absolute inset-0 bg-primary-light text-primary-dark flex items-center justify-center font-bold">최고의 서버 로딩 중...</div>
            </div>
        </div>

        <!-- 2. 오늘의 추천 서버 배너 영역 (Main Banner - SLIDER): 꽉 채움 -->
        <div class="mb-6 overflow-hidden bg-white">
             <div class="px-4 py-3 bg-primary-light text-gray-800 flex justify-between items-center">
                <h2 id="main-banner-title-h2" class="text-lg font-bold"></h2>
                <span class="text-xs font-semibold text-primary">자동 슬라이드</span>
            </div>
            <div id="main-banner-content" class="w-full h-36 sm:h-44 relative overflow-hidden flex items-center justify-center text-center">
                <div class="absolute inset-0 bg-primary-light text-primary-dark flex items-center justify-center font-bold">배너 로딩 중...</div>
            </div>
        </div>
        
        <!-- 서버 목록 영역 (통이미지 카드 Layout - 좌우 패딩만 유지) -->
        <!-- 모바일에서는 1열, 태블릿 이상에서는 2열로 표시, 좌우 패딩을 줘서 카드 자체가 꽉 차게 만듦 -->
        <main id="server-list" class="grid grid-cols-1 sm:grid-cols-2 gap-4 px-4 pb-10"></main>

        <!-- 목록이 비어 있을 때 메시지 -->
        <div id="no-results" class="hidden text-center mx-4 py-12 bg-gray-50 border border-gray-200 shadow-lg rounded-xl">
            <p id="no-results-message" class="text-xl text-primary-dark font-semibold"></p>
            <button onclick="resetFilters()" id="reset-button" class="mt-6 px-6 py-2 bg-primary text-white shadow-xl hover:bg-primary-dark transition rounded-lg font-bold"></button>
        </div>
        
    </div>

    <!-- 필터 드로어 (Filter Drawer) - 왼쪽 상단 메뉴 -->
    <div id="filter-drawer" class="fixed top-0 left-0 h-full bg-white shadow-2xl border-r-4 border-primary p-6 overflow-y-auto rounded-r-lg">
        <div class="flex justify-between items-center pb-4 mb-4 border-b border-gray-200">
            <h3 class="text-xl font-bold text-primary-dark">필터 메뉴</h3>
            <button onclick="hideDrawer()" class="p-1 text-gray-500 hover:text-red-500 transition rounded-lg">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
            </button>
        </div>
        <div id="drawer-filter-content">
            <h3 id="filter-category-h3" class="text-sm font-bold mb-3 text-gray-800"></h3>
            <div id="category-filter" class="flex flex-wrap gap-2 mb-6"></div>
            <h3 id="filter-tag-h3" class="text-sm font-bold mb-3 text-gray-800"></h3>
            <div id="tag-filter" class="flex flex-wrap gap-2 mb-8"></div>
            
            <!-- 광고 및 배너 문의 버튼 (드로어 맨 아래 유지) -->
            <div class="mb-6 border-t pt-4 border-gray-100">
                <a href="https://open.kakao.com/me/Godbored" target="_blank"
                   class="flex items-center justify-center w-full py-3 bg-secondary text-white font-bold text-sm rounded-lg shadow-md hover:bg-secondary/80 transition duration-200">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-square-text mr-2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/><path d="M10 7H9"/><path d="M15 7H13"/><path d="M15 11H9"/></svg>
                    광고 및 배너 문의 (카카오톡)
                </a>
            </div>
            
            <button onclick="resetFilters(); hideDrawer();" class="mt-4 w-full px-4 py-3 bg-primary text-white shadow-lg hover:bg-primary-dark transition rounded-lg text-base font-bold">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw inline mr-1"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-3.35 1.76L4.5 9"/><path d="M3 12H1"/><path d="M22 12H23"/></svg>
                필터 초기화 및 닫기
            </button>
        </div>
    </div>
    
    <!-- 드로어 오버레이 (클릭 시 닫기) -->
    <div id="drawer-overlay" onclick="hideDrawer()" class="fixed inset-0 opacity-0 hidden"></div>

    <!-- 광고 상세 모달 (Toss/Clean Modal Style) -->
    <div id="ad-detail-modal" class="ad-modal fixed inset-0 hidden items-center justify-center p-4 z-50">
        <div class="bg-white max-w-lg w-full shadow-2xl border-4 border-primary rounded-xl">
            <div class="flex justify-between items-center p-4 border-b-2 border-primary-light bg-primary text-white rounded-t-xl">
                <h2 id="modal-ad-title" class="text-xl font-bold"></h2>
                <button onclick="hideAdDetail()" class="text-white hover:text-gray-200 transition">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
                </button>
            </button>
            <div class="p-4 sm:p-6 text-center">
                <img id="modal-ad-image" alt="광고 이미지" class="w-full h-auto object-cover border border-gray-300 mb-4 rounded-lg">
                <p id="modal-ad-content" class="text-base text-gray-700 mb-6"></p>
                <a id="modal-ad-link" target="_blank" class="block w-full py-3 bg-primary text-white font-bold hover:bg-primary-dark transition rounded-lg mb-3 shadow-md">
                    광고 바로가기 (외부 링크)
                </a>
                <button onclick="hideAdDetail()" class="w-full py-3 bg-gray-200 text-gray-800 font-bold hover:bg-gray-300 transition rounded-lg">
                    닫기
                </button>
            </div>
        </div>
    </div>

    <!-- ⚠️ list.js 버전 번호 변경: 20240929_7 (변경 시마다 수정) -->
    <script src="./list.js?v=20240929_7"></script> 
</body>
</html>

